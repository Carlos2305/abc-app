<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>APP ABC</title>
        <link rel="stylesheet" href="assets/plugins/jquery-mobile/jquery.mobile-1.4.5.min.css" />
        <!-- Bootstrap -->
        <link href="assets/plugins/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/css/style.css?q=1ss1" rel="stylesheet" type="text/css" />
                
    </head>
    <body>
    <div data-role="page" id="page1">

    </div>

    <!-- Header -->
    <header id="top" class="header">
        <div class="text-vertical-center row">
            <div class="row">
                <div class="win-title">MUY BIEN</div>
                <!--<div class="win-subtitle">+ <span id="points">0</span>  PUNTOS</div>-->
            </div>    
            <div class="row">
                <div class="col-xs-4 space-parrot win-parrot">
                    <img class="img-responsive" src="assets/img/win-parrot-abc.png">
                </div>
                <div class="col-xs-8 space-button text-left">
                    <div class="row">
                        <div class="win-content-title">TIENES:</div>
                        <div class="win-content-subtitle "><span id="total-points">0</span> PUNTOS</div>
                        <div class="win-content-message" id="message">
                            Mision completada 
                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>  
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row ranking">
                <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th colspan="3" class="text-center rank-top">Ranking Top 5</th>
                        </tr>
                        <tr>
                            <th class="col-xs-1">#</th>
                          <th class="text-center">Nombre</th>
                                        <th class="text-center">Tiempo</th>
                        </tr>
                      </thead>
                      <tbody>
                          <tr class="active">
                            <th scope="row" class="rank"><strong>1</strong></th>
                          <td>Mark</td>
                          <td>1:50</td>         
                        </tr>
                        <tr>
                            <th scope="row" class="rank"><strong>2</strong></th>
                          <td>Mark</td>
                          <td>1:59</td>          
                        </tr>
                        <tr class="active">
                          <th scope="row" class="rank"><strong>3</strong></th>
                          <td>Mark</td>
                          <td>2:25</td>          
                        </tr>
                        <tr>
                          <th scope="row" class="rank"><strong>4</strong></th>
                          <td>Mark</td>
                          <td>2:56</td>          
                        </tr>
                        <tr class="active">
                          <th scope="row" class="rank"><strong>5</strong></th>
                          <td>Mark</td>
                          <td>3:01</td>          
                        </tr>
                      </tbody>
                    </table>
            </div>
        </div>

        <div id="SoccerPlayerList"></div>
    </header>
    <script type="text/javascript" src="assets/plugins/jquery/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-mobile/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>     
    <!--app--> 
    <script type="text/javascript" src="assets/js/plugins/uri/URI.js"></script>
    <script type="text/javascript">
    /*+++++++++++++++++ ADD CUSTOM +++++++++++++*/
    /*      background force to jquery-mobile  */
    document.getElementById('page1').style.backgroundColor = "#83e749";
    document.body.style.backgroundColor = "#83e749";
    /*+++++++++++++++++ ADD CUSTOM +++++++++++++*/
    
    var URI = new URI(location.href)
        URI.data = {};
        
    URI.data = URI.search(true);
        console.log('DATA' , URI.data);
    var myIndice = parseInt(URI.data.indice) || 0;
    var myPoints = parseInt(URI.data.points) || 0;
    var myTotalPoints = parseInt(URI.data.totalPoints) || 0;
    var myLevel = parseInt(URI.data.level) || 1;
    
    $(document).ready(function(){
        //$('#points').text(URI.data.points);
        $('#total-points').text(URI.data.totalPoints);
        
        var messageHtml = '';
        if ((27*10) === myTotalPoints) {
            // save in LocalStore
            sessionStorage.setItem("level1", 'true');
            messageHtml = '<a href="index.html" data-role="button" rel="external">'
            + '<img class="img-responsive" src="assets/img/next-blue.png">'
            + '</a>';            
        } else {
            sessionStorage.setItem("level1", 'false');
            messageHtml = '<span class="text-message-purple">Fallaste! no completaste todo el abecedario correctamente, puedes volver a intentarlo.</span>'
            + '<a href="1_0.html?level=1" data-role="button" rel="external">'
            + '<img class="img-responsive" src="assets/img/return.png">'
            + '</a>';
        }
        
        $('#message').html(messageHtml);
    });
    
    
    
    
    
    /**
     * user
     */     
    var string_abcUser = sessionStorage.getItem('abc_user');
    var abcUser = jQuery.parseJSON(string_abcUser);
        abcUser.timerForLevel = URI.data.timerForLevel;
    
    console.log('abcUser', abcUser);
    
    //save OBJ USERS
    var string_abcUsers = sessionStorage.getItem('abc_users');
    var abcUsers = jQuery.parseJSON(string_abcUsers);
    
    var arrayUsers = [];
    arrayUsers.push(abcUser);
    
    console.log('arrayUsers', arrayUsers);
    
    function addUser(objUser) {
        /*var newUsers = [];
        [0,1,2,3,4].forEach(function(element, indice, array){
            console.log('id.element', element.name);
            newUsers[indice] = 
                    
        });*/
    }
    </script>
    <script type="text/javascript" src="assets/js/1_27.js"></script>
    <script type="text/javascript" src="assets/js/db.js"></script>
    <script type="text/javascript">
        
        onDeviceReady();
        
    function querySuccess(tx,result){
        $('#SoccerPlayerList').empty();
        $.each(result.rows,function(index){
            var row = result.rows.item(index);
            $('#SoccerPlayerList').append('<li><a href="#"><h3 class="ui-li-heading">'+row['Name']+'</h3><p class="ui-li-desc">Club '+row['Club']+'</p></a></li>');
        });
 
        $('#SoccerPlayerList').listview();
    }
        
    </script>

</body>
</html>
